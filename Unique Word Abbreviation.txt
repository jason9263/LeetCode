public class ValidWordAbbr {

    Map<String,String> jm = new HashMap<String,String>();

    public ValidWordAbbr(String[] dictionary) {

        for(int i = 0; i< dictionary.length; i++){
            String s = dictionary[i];
            String key = helper(s);

            if(jm.containsKey(key)){

                if(!jm.get(key).equals(s)){
                    jm.put(key,"");
                }

            }else{
                jm.put(key,s);
            }

        }

    }


    public String helper(String s){
        if(s.length() <= 2){
            return s;
        }else{
            return s.charAt(0)+Integer.toString(s.length()-2) + s.charAt(s.length()-1);
        }
    }



    public boolean isUnique(String word) {

        return  !jm.containsKey(helper(word)) || jm.get(helper(word)).equals(word);

    }
}


// Your ValidWordAbbr object will be instantiated and called as such:
// ValidWordAbbr vwa = new ValidWordAbbr(dictionary);
// vwa.isUnique("Word");
// vwa.isUnique("anotherWord");

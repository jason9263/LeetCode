public class Solution {
    public int findDerangement(int n) {
        
    long mod = (long)Math.pow(10,9) + 7;
    
    if(n <= 1){
        return 0;
    }else if(n == 2){
        return 1;
    }

        long[] arr = new long[n+1];



        arr[0] = 0;
        arr[1] = 0;
        arr[2] = 1;
        
        
        
        for(int i = 3; i <= n ; i++){
            arr[i] = ((i-1)*(arr[i-1] + arr[i-2])) % mod;
        }

        
        return (int)arr[n];
    }
}